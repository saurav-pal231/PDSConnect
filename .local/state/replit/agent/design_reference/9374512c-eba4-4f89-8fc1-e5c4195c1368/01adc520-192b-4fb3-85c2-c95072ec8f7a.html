<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Public Distribution System - PDS Management</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
        theme: {
            extend: {
                borderRadius: {
                    lg: "var(--radius)",
                    md: "calc(var(--radius) - 2px)",
                    sm: "calc(var(--radius) - 4px)",
                },
                colors: {
                    background: "var(--background)",
                    foreground: "var(--foreground)",
                    card: {
                        DEFAULT: "var(--card)",
                        foreground: "var(--card-foreground)",
                    },
                    primary: {
                        DEFAULT: "var(--primary)",
                        foreground: "var(--primary-foreground)",
                    },
                    secondary: {
                        DEFAULT: "var(--secondary)",
                        foreground: "var(--secondary-foreground)",
                    },
                    muted: {
                        DEFAULT: "var(--muted)",
                        foreground: "var(--muted-foreground)",
                    },
                    accent: {
                        DEFAULT: "var(--accent)",
                        foreground: "var(--accent-foreground)",
                    },
                    destructive: {
                        DEFAULT: "var(--destructive)",
                        foreground: "var(--destructive-foreground)",
                    },
                    border: "var(--border)",
                    input: "var(--input)",
                    ring: "var(--ring)",
                },
                fontFamily: {
                    sans: ["var(--font-sans)"],
                }
            },
        }
    };
    </script>
    <style>
    :root {
        --background: hsl(210 40% 98%);
        --foreground: hsl(222.2 84% 4.9%);
        --card: hsl(0 0% 100%);
        --card-foreground: hsl(222.2 84% 4.9%);
        --primary: hsl(221.2 83.2% 53.3%);
        --primary-foreground: hsl(210 40% 98%);
        --secondary: hsl(210 40% 96%);
        --secondary-foreground: hsl(222.2 47.4% 11.2%);
        --muted: hsl(210 40% 96%);
        --muted-foreground: hsl(215.4 16.3% 46.9%);
        --accent: hsl(210 40% 96%);
        --accent-foreground: hsl(222.2 47.4% 11.2%);
        --destructive: hsl(0 84.2% 60.2%);
        --destructive-foreground: hsl(210 40% 98%);
        --border: hsl(214.3 31.8% 91.4%);
        --input: hsl(214.3 31.8% 91.4%);
        --ring: hsl(221.2 83.2% 53.3%);
        --radius: 8px;
        --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }
    
    .notification-enter {
        transform: translateX(100%);
        opacity: 0;
    }
    
    .notification-enter-active {
        transform: translateX(0);
        opacity: 1;
        transition: all 0.3s ease-in-out;
    }
    
    .chart-container {
        position: relative;
        height: 300px;
    }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-background font-sans antialiased min-h-screen">

<!-- Login Page -->
<div id="loginPage" class="min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 to-accent/20">
    <!-- @COMPONENT: LoginCard -->
    <div class="bg-card shadow-2xl rounded-lg p-8 w-full max-w-md mx-4">
        <div class="text-center mb-8">
            <div class="mx-auto w-16 h-16 bg-primary rounded-full flex items-center justify-center mb-4">
                <i class="fas fa-warehouse text-2xl text-primary-foreground"></i>
            </div>
            <h1 class="text-2xl font-bold text-foreground mb-2">PDS Management System</h1>
            <p class="text-muted-foreground">Public Distribution System Portal</p>
        </div>
        
        <form class="space-y-6" data-mock="true">
            <!-- Role Selection -->
            <div>
                <label class="block text-sm font-medium text-foreground mb-3">Select Role</label>
                <div class="grid grid-cols-3 gap-2">
                    <button type="button" class="role-btn flex flex-col items-center p-3 border-2 border-border rounded-lg hover:border-primary hover:bg-accent transition-colors" data-role="shop">
                        <i class="fas fa-store text-lg mb-1 text-muted-foreground"></i>
                        <span class="text-xs font-medium">Shop</span>
                    </button>
                    <button type="button" class="role-btn flex flex-col items-center p-3 border-2 border-border rounded-lg hover:border-primary hover:bg-accent transition-colors" data-role="beneficiary">
                        <i class="fas fa-user text-lg mb-1 text-muted-foreground"></i>
                        <span class="text-xs font-medium">Beneficiary</span>
                    </button>
                    <button type="button" class="role-btn flex flex-col items-center p-3 border-2 border-border rounded-lg hover:border-primary hover:bg-accent transition-colors" data-role="admin">
                        <i class="fas fa-user-shield text-lg mb-1 text-muted-foreground"></i>
                        <span class="text-xs font-medium">Admin</span>
                    </button>
                </div>
            </div>
            
            <!-- Email Input -->
            <div>
                <label for="email" class="block text-sm font-medium text-foreground mb-2">Email Address</label>
                <input type="email" id="email" class="w-full px-3 py-2 border border-input rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent" placeholder="Enter your email" data-mock="true" />
            </div>
            
            <!-- Password Input -->
            <div>
                <label for="password" class="block text-sm font-medium text-foreground mb-2">Password</label>
                <input type="password" id="password" class="w-full px-3 py-2 border border-input rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent" placeholder="Enter your password" data-mock="true" />
            </div>
            
            <!-- Login Button -->
            <button type="submit" class="w-full bg-primary hover:bg-primary/90 text-primary-foreground py-3 px-4 rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-ring" data-event="click:handleLogin">
                Sign In
            </button>
        </form>
    </div>
    <!-- @END_COMPONENT: LoginCard -->
</div>

<!-- Shop Dashboard -->
<div id="shopDashboard" class="hidden min-h-screen bg-background">
    <!-- @COMPONENT: ShopLayout -->
    <div class="flex h-screen">
        <!-- Sidebar -->
        <div class="w-64 bg-card shadow-lg">
            <div class="p-6 border-b border-border">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
                        <i class="fas fa-store text-primary-foreground"></i>
                    </div>
                    <div>
                        <h2 class="font-semibold text-foreground">Shop Dashboard</h2>
                        <p class="text-sm text-muted-foreground" data-bind="shop.name">Main Street Shop</p>
                    </div>
                </div>
            </div>
            
            <nav class="p-4">
                <ul class="space-y-2">
                    <li><a href="#" class="flex items-center px-4 py-2 text-primary bg-accent rounded-lg"><i class="fas fa-tachometer-alt mr-3"></i>Dashboard</a></li>
                    <li><a href="#" class="flex items-center px-4 py-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded-lg transition-colors"><i class="fas fa-boxes mr-3"></i>Inventory</a></li>
                    <li><a href="#" class="flex items-center px-4 py-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded-lg transition-colors"><i class="fas fa-chart-line mr-3"></i>Reports</a></li>
                    <li><a href="#" class="flex items-center px-4 py-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded-lg transition-colors"><i class="fas fa-cog mr-3"></i>Settings</a></li>
                </ul>
            </nav>
            
            <div class="absolute bottom-4 left-4 right-4">
                <button class="w-full flex items-center px-4 py-2 text-muted-foreground hover:text-foreground transition-colors" data-event="click:handleLogout">
                    <i class="fas fa-sign-out-alt mr-3"></i>Logout
                </button>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- Top Bar -->
            <header class="bg-card shadow-sm border-b border-border px-6 py-4">
                <div class="flex items-center justify-between">
                    <h1 class="text-2xl font-bold text-foreground">Stock Management</h1>
                    <div class="flex items-center space-x-4">
                        <span class="text-sm text-muted-foreground" data-bind="currentDate">December 15, 2024</span>
                        <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                            <i class="fas fa-user text-primary-foreground text-sm"></i>
                        </div>
                    </div>
                </div>
            </header>
            
            <!-- Dashboard Content -->
            <main class="flex-1 overflow-x-hidden overflow-y-auto bg-background p-6">
                <div class="max-w-7xl mx-auto space-y-6">
                    
                    <!-- Stock Update Form -->
                    <!-- @COMPONENT: StockUpdateForm -->
                    <div class="bg-card rounded-lg shadow-sm border border-border p-6">
                        <h2 class="text-lg font-semibold text-foreground mb-4">Update Stock Levels</h2>
                        <form class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4" data-mock="true">
                            <!-- Rice -->
                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-foreground">Rice (kg)</label>
                                <input type="number" class="w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring" placeholder="Enter quantity" data-mock="true" />
                            </div>
                            <!-- Wheat -->
                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-foreground">Wheat (kg)</label>
                                <input type="number" class="w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring" placeholder="Enter quantity" data-mock="true" />
                            </div>
                            <!-- Sugar -->
                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-foreground">Sugar (kg)</label>
                                <input type="number" class="w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring" placeholder="Enter quantity" data-mock="true" />
                            </div>
                            <!-- Kerosene -->
                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-foreground">Kerosene (L)</label>
                                <input type="number" class="w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring" placeholder="Enter quantity" data-mock="true" />
                            </div>
                            
                            <div class="md:col-span-2 lg:col-span-4">
                                <button type="submit" class="bg-primary hover:bg-primary/90 text-primary-foreground px-6 py-2 rounded-md font-medium transition-colors" data-event="click:updateStock">
                                    Update Stock
                                </button>
                            </div>
                        </form>
                    </div>
                    <!-- @END_COMPONENT: StockUpdateForm -->
                    
                    <!-- Current Stock Display -->
                    <!-- @COMPONENT: StockTable -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                        <!-- Rice Card -->
                        <div class="bg-card rounded-lg shadow-sm border border-border p-4">
                            <div class="flex items-center justify-between mb-2">
                                <h3 class="font-medium text-foreground">Rice</h3>
                                <div class="w-3 h-3 bg-green-500 rounded-full" title="Sufficient Stock"></div>
                            </div>
                            <p class="text-2xl font-bold text-foreground" data-bind="stock.rice">450 kg</p>
                            <p class="text-sm text-muted-foreground" data-bind="stock.rice.lastUpdated">Last updated: 2 hours ago</p>
                        </div>
                        
                        <!-- Wheat Card -->
                        <div class="bg-card rounded-lg shadow-sm border border-border p-4">
                            <div class="flex items-center justify-between mb-2">
                                <h3 class="font-medium text-foreground">Wheat</h3>
                                <div class="w-3 h-3 bg-yellow-500 rounded-full" title="Low Stock"></div>
                            </div>
                            <p class="text-2xl font-bold text-foreground" data-bind="stock.wheat">125 kg</p>
                            <p class="text-sm text-muted-foreground" data-bind="stock.wheat.lastUpdated">Last updated: 4 hours ago</p>
                        </div>
                        
                        <!-- Sugar Card -->
                        <div class="bg-card rounded-lg shadow-sm border border-border p-4">
                            <div class="flex items-center justify-between mb-2">
                                <h3 class="font-medium text-foreground">Sugar</h3>
                                <div class="w-3 h-3 bg-green-500 rounded-full" title="Sufficient Stock"></div>
                            </div>
                            <p class="text-2xl font-bold text-foreground" data-bind="stock.sugar">280 kg</p>
                            <p class="text-sm text-muted-foreground" data-bind="stock.sugar.lastUpdated">Last updated: 1 hour ago</p>
                        </div>
                        
                        <!-- Kerosene Card -->
                        <div class="bg-card rounded-lg shadow-sm border border-border p-4">
                            <div class="flex items-center justify-between mb-2">
                                <h3 class="font-medium text-foreground">Kerosene</h3>
                                <div class="w-3 h-3 bg-red-500 rounded-full" title="Empty Stock"></div>
                            </div>
                            <p class="text-2xl font-bold text-foreground" data-bind="stock.kerosene">0 L</p>
                            <p class="text-sm text-muted-foreground" data-bind="stock.kerosene.lastUpdated">Last updated: 6 hours ago</p>
                        </div>
                    </div>
                    <!-- @END_COMPONENT: StockTable -->
                    
                    <!-- Stock Trend Chart -->
                    <!-- @COMPONENT: ChartComponent -->
                    <div class="bg-card rounded-lg shadow-sm border border-border p-6">
                        <h2 class="text-lg font-semibold text-foreground mb-4">Stock Trend (Last 7 Days)</h2>
                        <div class="chart-container">
                            <canvas id="stockTrendChart"></canvas>
                        </div>
                    </div>
                    <!-- @END_COMPONENT: ChartComponent -->
                    
                </div>
            </main>
        </div>
    </div>
    <!-- @END_COMPONENT: ShopLayout -->
</div>

<!-- Beneficiary Dashboard -->
<div id="beneficiaryDashboard" class="hidden min-h-screen bg-background">
    <!-- @COMPONENT: BeneficiaryLayout -->
    <div class="flex h-screen">
        <!-- Sidebar -->
        <div class="w-64 bg-card shadow-lg">
            <div class="p-6 border-b border-border">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
                        <i class="fas fa-user text-primary-foreground"></i>
                    </div>
                    <div>
                        <h2 class="font-semibold text-foreground">Beneficiary Portal</h2>
                        <p class="text-sm text-muted-foreground" data-bind="beneficiary.name">John Doe</p>
                    </div>
                </div>
            </div>
            
            <nav class="p-4">
                <ul class="space-y-2">
                    <li><a href="#" class="flex items-center px-4 py-2 text-primary bg-accent rounded-lg"><i class="fas fa-tachometer-alt mr-3"></i>Dashboard</a></li>
                    <li><a href="#" class="flex items-center px-4 py-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded-lg transition-colors"><i class="fas fa-receipt mr-3"></i>My Allocations</a></li>
                    <li><a href="#" class="flex items-center px-4 py-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded-lg transition-colors"><i class="fas fa-history mr-3"></i>Purchase History</a></li>
                    <li><a href="#" class="flex items-center px-4 py-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded-lg transition-colors"><i class="fas fa-bell mr-3"></i>Notifications</a></li>
                </ul>
            </nav>
            
            <div class="absolute bottom-4 left-4 right-4">
                <button class="w-full flex items-center px-4 py-2 text-muted-foreground hover:text-foreground transition-colors" data-event="click:handleLogout">
                    <i class="fas fa-sign-out-alt mr-3"></i>Logout
                </button>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- Top Bar -->
            <header class="bg-card shadow-sm border-b border-border px-6 py-4">
                <div class="flex items-center justify-between">
                    <h1 class="text-2xl font-bold text-foreground">Available Stock</h1>
                    <div class="flex items-center space-x-4">
                        <span class="text-sm text-muted-foreground">Ration Shop: <span class="font-medium" data-bind="assignedShop">Main Street Shop</span></span>
                        <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                            <i class="fas fa-user text-primary-foreground text-sm"></i>
                        </div>
                    </div>
                </div>
            </header>
            
            <!-- Dashboard Content -->
            <main class="flex-1 overflow-x-hidden overflow-y-auto bg-background p-6">
                <div class="max-w-4xl mx-auto space-y-6">
                    
                    <!-- Stock Availability Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <!-- Rice Availability -->
                        <div class="bg-card rounded-lg shadow-sm border border-border p-6">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-seedling text-green-600 text-xl"></i>
                                    </div>
                                    <div>
                                        <h3 class="font-semibold text-foreground">Rice</h3>
                                        <p class="text-sm text-muted-foreground">Per month allocation: 5 kg</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                                    <span class="text-sm font-medium text-green-600">Available</span>
                                </div>
                            </div>
                            <p class="text-2xl font-bold text-foreground mb-2" data-bind="available.rice">450 kg in stock</p>
                            <p class="text-sm text-muted-foreground">Last updated 2 hours ago</p>
                        </div>
                        
                        <!-- Wheat Availability -->
                        <div class="bg-card rounded-lg shadow-sm border border-border p-6">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-bread-slice text-yellow-600 text-xl"></i>
                                    </div>
                                    <div>
                                        <h3 class="font-semibold text-foreground">Wheat</h3>
                                        <p class="text-sm text-muted-foreground">Per month allocation: 3 kg</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                                    <span class="text-sm font-medium text-yellow-600">Low Stock</span>
                                </div>
                            </div>
                            <p class="text-2xl font-bold text-foreground mb-2" data-bind="available.wheat">125 kg in stock</p>
                            <p class="text-sm text-muted-foreground">Last updated 4 hours ago</p>
                        </div>
                        
                        <!-- Sugar Availability -->
                        <div class="bg-card rounded-lg shadow-sm border border-border p-6">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-cube text-green-600 text-xl"></i>
                                    </div>
                                    <div>
                                        <h3 class="font-semibold text-foreground">Sugar</h3>
                                        <p class="text-sm text-muted-foreground">Per month allocation: 1 kg</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                                    <span class="text-sm font-medium text-green-600">Available</span>
                                </div>
                            </div>
                            <p class="text-2xl font-bold text-foreground mb-2" data-bind="available.sugar">280 kg in stock</p>
                            <p class="text-sm text-muted-foreground">Last updated 1 hour ago</p>
                        </div>
                        
                        <!-- Kerosene Availability -->
                        <div class="bg-card rounded-lg shadow-sm border border-border p-6">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-gas-pump text-red-600 text-xl"></i>
                                    </div>
                                    <div>
                                        <h3 class="font-semibold text-foreground">Kerosene</h3>
                                        <p class="text-sm text-muted-foreground">Per month allocation: 2 L</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                                    <span class="text-sm font-medium text-red-600">Out of Stock</span>
                                </div>
                            </div>
                            <p class="text-2xl font-bold text-foreground mb-2" data-bind="available.kerosene">0 L in stock</p>
                            <p class="text-sm text-muted-foreground">Last updated 6 hours ago</p>
                        </div>
                    </div>
                    
                    <!-- Recent Updates -->
                    <div class="bg-card rounded-lg shadow-sm border border-border p-6">
                        <h2 class="text-lg font-semibold text-foreground mb-4">Recent Stock Updates</h2>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200">
                                <div class="flex items-center space-x-3">
                                    <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                    <span class="text-sm font-medium text-foreground">Sugar stock replenished</span>
                                </div>
                                <span class="text-sm text-muted-foreground">1 hour ago</span>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-yellow-50 rounded-lg border border-yellow-200">
                                <div class="flex items-center space-x-3">
                                    <div class="w-2 h-2 bg-yellow-500 rounded-full"></div>
                                    <span class="text-sm font-medium text-foreground">Wheat stock running low</span>
                                </div>
                                <span class="text-sm text-muted-foreground">4 hours ago</span>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200">
                                <div class="flex items-center space-x-3">
                                    <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                                    <span class="text-sm font-medium text-foreground">Kerosene out of stock</span>
                                </div>
                                <span class="text-sm text-muted-foreground">6 hours ago</span>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </main>
        </div>
    </div>
    <!-- @END_COMPONENT: BeneficiaryLayout -->
</div>

<!-- Admin Dashboard -->
<div id="adminDashboard" class="hidden min-h-screen bg-background">
    <!-- @COMPONENT: AdminLayout -->
    <div class="flex h-screen">
        <!-- Sidebar -->
        <div class="w-64 bg-card shadow-lg">
            <div class="p-6 border-b border-border">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
                        <i class="fas fa-user-shield text-primary-foreground"></i>
                    </div>
                    <div>
                        <h2 class="font-semibold text-foreground">Admin Panel</h2>
                        <p class="text-sm text-muted-foreground">District Office</p>
                    </div>
                </div>
            </div>
            
            <nav class="p-4">
                <ul class="space-y-2">
                    <li><a href="#" class="flex items-center px-4 py-2 text-primary bg-accent rounded-lg"><i class="fas fa-tachometer-alt mr-3"></i>Dashboard</a></li>
                    <li><a href="#" class="flex items-center px-4 py-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded-lg transition-colors"><i class="fas fa-store mr-3"></i>Manage Shops</a></li>
                    <li><a href="#" class="flex items-center px-4 py-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded-lg transition-colors"><i class="fas fa-users mr-3"></i>Beneficiaries</a></li>
                    <li><a href="#" class="flex items-center px-4 py-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded-lg transition-colors"><i class="fas fa-chart-bar mr-3"></i>Analytics</a></li>
                    <li><a href="#" class="flex items-center px-4 py-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded-lg transition-colors"><i class="fas fa-cog mr-3"></i>Settings</a></li>
                </ul>
            </nav>
            
            <div class="absolute bottom-4 left-4 right-4">
                <button class="w-full flex items-center px-4 py-2 text-muted-foreground hover:text-foreground transition-colors" data-event="click:handleLogout">
                    <i class="fas fa-sign-out-alt mr-3"></i>Logout
                </button>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- Top Bar -->
            <header class="bg-card shadow-sm border-b border-border px-6 py-4">
                <div class="flex items-center justify-between">
                    <h1 class="text-2xl font-bold text-foreground">District Overview</h1>
                    <div class="flex items-center space-x-4">
                        <!-- Search Bar -->
                        <div class="relative">
                            <input type="text" placeholder="Search shops..." class="pl-10 pr-4 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring w-64" data-mock="true" />
                            <i class="fas fa-search absolute left-3 top-3 text-muted-foreground"></i>
                        </div>
                        <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                            <i class="fas fa-user text-primary-foreground text-sm"></i>
                        </div>
                    </div>
                </div>
            </header>
            
            <!-- Dashboard Content -->
            <main class="flex-1 overflow-x-hidden overflow-y-auto bg-background p-6">
                <div class="max-w-7xl mx-auto space-y-6">
                    
                    <!-- Summary Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div class="bg-card rounded-lg shadow-sm border border-border p-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-muted-foreground">Total Shops</p>
                                    <p class="text-2xl font-bold text-foreground" data-bind="stats.totalShops">12</p>
                                </div>
                                <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-store text-primary text-xl"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-card rounded-lg shadow-sm border border-border p-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-muted-foreground">Active Beneficiaries</p>
                                    <p class="text-2xl font-bold text-foreground" data-bind="stats.beneficiaries">1,245</p>
                                </div>
                                <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-users text-green-600 text-xl"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-card rounded-lg shadow-sm border border-border p-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-muted-foreground">Low Stock Alerts</p>
                                    <p class="text-2xl font-bold text-destructive" data-bind="stats.lowStockAlerts">8</p>
                                </div>
                                <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-exclamation-triangle text-red-600 text-xl"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-card rounded-lg shadow-sm border border-border p-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-muted-foreground">Distribution Rate</p>
                                    <p class="text-2xl font-bold text-foreground" data-bind="stats.distributionRate">94%</p>
                                </div>
                                <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-chart-line text-green-600 text-xl"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Charts Row -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Stock by Shop Chart -->
                        <div class="bg-card rounded-lg shadow-sm border border-border p-6">
                            <h2 class="text-lg font-semibold text-foreground mb-4">Stock Levels by Shop</h2>
                            <div class="chart-container">
                                <canvas id="stockByShopChart"></canvas>
                            </div>
                        </div>
                        
                        <!-- Shortage Distribution Chart -->
                        <div class="bg-card rounded-lg shadow-sm border border-border p-6">
                            <h2 class="text-lg font-semibold text-foreground mb-4">Current Shortages</h2>
                            <div class="chart-container">
                                <canvas id="shortageChart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- All Shops Table -->
                    <!-- @COMPONENT: ShopsTable -->
                    <div class="bg-card rounded-lg shadow-sm border border-border">
                        <div class="p-6 border-b border-border">
                            <div class="flex items-center justify-between">
                                <h2 class="text-lg font-semibold text-foreground">All Shops Status</h2>
                                <div class="flex items-center space-x-2">
                                    <button class="px-3 py-1 text-sm bg-accent text-foreground rounded-md hover:bg-accent/80">All</button>
                                    <button class="px-3 py-1 text-sm text-muted-foreground rounded-md hover:bg-accent">Low Stock</button>
                                    <button class="px-3 py-1 text-sm text-muted-foreground rounded-md hover:bg-accent">Out of Stock</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-muted">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">Shop Name</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">Rice (kg)</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">Wheat (kg)</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">Sugar (kg)</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">Kerosene (L)</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">Last Update</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-card divide-y divide-border" data-mock="true">
                                    <!-- @MAP: shops.map(shop => ( -->
                                    <tr class="hover:bg-muted/50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-foreground" data-bind="shop.name">Main Street Shop</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground" data-bind="shop.rice">
                                            <span class="inline-flex items-center space-x-2">
                                                <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                                <span>450</span>
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground" data-bind="shop.wheat">
                                            <span class="inline-flex items-center space-x-2">
                                                <div class="w-2 h-2 bg-yellow-500 rounded-full"></div>
                                                <span>125</span>
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground" data-bind="shop.sugar">
                                            <span class="inline-flex items-center space-x-2">
                                                <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                                <span>280</span>
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground" data-bind="shop.kerosene">
                                            <span class="inline-flex items-center space-x-2">
                                                <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                                                <span class="text-red-600 font-medium">0</span>
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                                                Low Stock
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-muted-foreground" data-bind="shop.lastUpdate">2 hours ago</td>
                                    </tr>
                                    
                                    <tr class="hover:bg-muted/50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-foreground">Central Market Shop</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground">
                                            <span class="inline-flex items-center space-x-2">
                                                <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                                <span>520</span>
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground">
                                            <span class="inline-flex items-center space-x-2">
                                                <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                                <span>380</span>
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground">
                                            <span class="inline-flex items-center space-x-2">
                                                <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                                <span>195</span>
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground">
                                            <span class="inline-flex items-center space-x-2">
                                                <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                                <span>150</span>
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                                Good Stock
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-muted-foreground">1 hour ago</td>
                                    </tr>
                                    
                                    <tr class="hover:bg-muted/50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-foreground">East Side Shop</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground">
                                            <span class="inline-flex items-center space-x-2">
                                                <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                                                <span class="text-red-600 font-medium">0</span>
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground">
                                            <span class="inline-flex items-center space-x-2">
                                                <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                                                <span class="text-red-600 font-medium">0</span>
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground">
                                            <span class="inline-flex items-center space-x-2">
                                                <div class="w-2 h-2 bg-yellow-500 rounded-full"></div>
                                                <span>45</span>
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-foreground">
                                            <span class="inline-flex items-center space-x-2">
                                                <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                                                <span class="text-red-600 font-medium">0</span>
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
                                                Critical
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-muted-foreground">5 hours ago</td>
                                    </tr>
                                    <!-- @END_MAP )) -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!-- @END_COMPONENT: ShopsTable -->
                    
                </div>
            </main>
        </div>
    </div>
    <!-- @END_COMPONENT: AdminLayout -->
</div>

<!-- Notification Popup -->
<div id="notification" class="hidden fixed top-4 right-4 bg-card border border-border rounded-lg shadow-lg p-4 max-w-sm notification-enter z-50">
    <div class="flex items-start space-x-3">
        <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0">
            <i class="fas fa-bell text-green-600"></i>
        </div>
        <div class="flex-1">
            <h4 class="font-medium text-foreground">Stock Updated</h4>
            <p class="text-sm text-muted-foreground mt-1" id="notificationMessage">New rice stock has been added to Main Street Shop.</p>
        </div>
        <button class="text-muted-foreground hover:text-foreground ml-2" onclick="hideNotification()">
            <i class="fas fa-times"></i>
        </button>
    </div>
</div>

<script>
// TODO: Implement business logic, API calls, or state management

(function() {
    // Mock data for charts and tables
    const mockData = {
        stockTrend: {
            labels: ['Dec 9', 'Dec 10', 'Dec 11', 'Dec 12', 'Dec 13', 'Dec 14', 'Dec 15'],
            rice: [400, 450, 420, 480, 460, 450, 450],
            wheat: [200, 180, 160, 140, 130, 125, 125],
            sugar: [300, 290, 285, 280, 285, 280, 280],
            kerosene: [50, 30, 20, 10, 5, 0, 0]
        },
        shopStocks: {
            labels: ['Main St', 'Central', 'East Side', 'West End', 'North Plaza'],
            rice: [450, 520, 0, 380, 290],
            wheat: [125, 380, 0, 220, 180],
            sugar: [280, 195, 45, 160, 210],
            kerosene: [0, 150, 0, 80, 120]
        },
        shortages: {
            labels: ['Rice', 'Wheat', 'Sugar', 'Kerosene'],
            data: [1, 3, 0, 8]
        }
    };

    // Current user role and page state
    let currentRole = null;
    let currentPage = 'login';

    // Initialize page
    function init() {
        showPage('loginPage');
        setupEventListeners();
        
        // Initialize charts when admin dashboard is shown
        setTimeout(() => {
            if (currentRole === 'admin') {
                initializeCharts();
            }
        }, 100);
    }

    // Page navigation
    function showPage(pageId) {
        const pages = ['loginPage', 'shopDashboard', 'beneficiaryDashboard', 'adminDashboard'];
        pages.forEach(id => {
            const page = document.getElementById(id);
            if (page) {
                page.classList.add('hidden');
            }
        });
        
        const targetPage = document.getElementById(pageId);
        if (targetPage) {
            targetPage.classList.remove('hidden');
            currentPage = pageId;
            
            // Initialize role-specific features
            if (pageId === 'shopDashboard') {
                initializeShopDashboard();
            } else if (pageId === 'adminDashboard') {
                setTimeout(initializeCharts, 100);
            }
        }
    }

    // Role selection and login
    function setupEventListeners() {
        // Role selection buttons
        const roleButtons = document.querySelectorAll('.role-btn');
        roleButtons.forEach(btn => {
            btn.addEventListener('click', function() {
                roleButtons.forEach(b => b.classList.remove('border-primary', 'bg-accent'));
                this.classList.add('border-primary', 'bg-accent');
                currentRole = this.dataset.role;
            });
        });

        // Login form submission
        const loginForms = document.querySelectorAll('form');
        loginForms.forEach(form => {
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                handleLogin();
            });
        });

        // Logout buttons
        document.querySelectorAll('[data-event="click:handleLogout"]').forEach(btn => {
            btn.addEventListener('click', handleLogout);
        });

        // Stock update form
        const stockUpdateForms = document.querySelectorAll('[data-event="click:updateStock"]');
        stockUpdateForms.forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                handleStockUpdate();
            });
        });
    }

    // Login handler
    function handleLogin() {
        if (!currentRole) {
            alert('Please select a role first');
            return;
        }

        // Simulate login validation
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        
        if (!email || !password) {
            alert('Please enter both email and password');
            return;
        }

        // Route to appropriate dashboard
        switch(currentRole) {
            case 'shop':
                showPage('shopDashboard');
                break;
            case 'beneficiary':
                showPage('beneficiaryDashboard');
                // Show notification after a delay for beneficiary
                setTimeout(() => showNotification('Stock update: New rice shipment arrived at your ration shop.'), 3000);
                break;
            case 'admin':
                showPage('adminDashboard');
                break;
        }
    }

    // Logout handler
    function handleLogout() {
        currentRole = null;
        showPage('loginPage');
        
        // Reset form
        const form = document.querySelector('#loginPage form');
        if (form) {
            form.reset();
        }
        
        // Reset role selection
        document.querySelectorAll('.role-btn').forEach(btn => {
            btn.classList.remove('border-primary', 'bg-accent');
        });
    }

    // Stock update handler
    function handleStockUpdate() {
        // Simulate stock update
        showNotification('Stock levels have been updated successfully!');
        
        // In a real app, this would make an API call
        console.log('Stock update submitted');
    }

    // Initialize shop dashboard
    function initializeShopDashboard() {
        // Initialize stock trend chart
        const ctx = document.getElementById('stockTrendChart');
        if (ctx) {
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: mockData.stockTrend.labels,
                    datasets: [
                        {
                            label: 'Rice',
                            data: mockData.stockTrend.rice,
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            fill: true
                        },
                        {
                            label: 'Wheat',
                            data: mockData.stockTrend.wheat,
                            borderColor: '#f59e0b',
                            backgroundColor: 'rgba(245, 158, 11, 0.1)',
                            fill: true
                        },
                        {
                            label: 'Sugar',
                            data: mockData.stockTrend.sugar,
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            fill: true
                        },
                        {
                            label: 'Kerosene',
                            data: mockData.stockTrend.kerosene,
                            borderColor: '#ef4444',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            fill: true
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: false
                        },
                        legend: {
                            position: 'bottom'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }
    }

    // Initialize admin charts
    function initializeCharts() {
        // Stock by Shop Chart
        const stockByShopCtx = document.getElementById('stockByShopChart');
        if (stockByShopCtx) {
            new Chart(stockByShopCtx, {
                type: 'bar',
                data: {
                    labels: mockData.shopStocks.labels,
                    datasets: [
                        {
                            label: 'Rice (kg)',
                            data: mockData.shopStocks.rice,
                            backgroundColor: 'rgba(16, 185, 129, 0.8)'
                        },
                        {
                            label: 'Wheat (kg)',
                            data: mockData.shopStocks.wheat,
                            backgroundColor: 'rgba(245, 158, 11, 0.8)'
                        },
                        {
                            label: 'Sugar (kg)',
                            data: mockData.shopStocks.sugar,
                            backgroundColor: 'rgba(59, 130, 246, 0.8)'
                        },
                        {
                            label: 'Kerosene (L)',
                            data: mockData.shopStocks.kerosene,
                            backgroundColor: 'rgba(239, 68, 68, 0.8)'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        // Shortage Distribution Chart
        const shortageCtx = document.getElementById('shortageChart');
        if (shortageCtx) {
            new Chart(shortageCtx, {
                type: 'doughnut',
                data: {
                    labels: mockData.shortages.labels,
                    datasets: [{
                        data: mockData.shortages.data,
                        backgroundColor: [
                            '#10b981',
                            '#f59e0b', 
                            '#3b82f6',
                            '#ef4444'
                        ],
                        borderWidth: 2,
                        borderColor: '#ffffff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        }
    }

    // Notification system
    function showNotification(message) {
        const notification = document.getElementById('notification');
        const messageEl = document.getElementById('notificationMessage');
        
        if (notification && messageEl) {
            messageEl.textContent = message;
            notification.classList.remove('hidden');
            notification.classList.add('notification-enter-active');
            
            // Auto hide after 5 seconds
            setTimeout(() => {
                hideNotification();
            }, 5000);
        }
    }

    window.hideNotification = function() {
        const notification = document.getElementById('notification');
        if (notification) {
            notification.classList.add('hidden');
            notification.classList.remove('notification-enter-active');
        }
    };

    // Initialize the application
    init();
})();
</script>

</body>
</html>